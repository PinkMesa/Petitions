(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{229:function(e,t,a){e.exports=a(280)},234:function(e,t,a){},239:function(e,t,a){},241:function(e,t,a){},277:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(24),s=a.n(r),u=(a(234),a(48)),l=a(16),o=a(104),c=a(195),m=a(18),d=a(27),p=a.n(d),f=a(51),g="http://127.0.0.1:8000/api/auth",v=function(e,t,a,i,n,r,s){return{type:"AUTHENTICATE",token:e,userId:t,email:a,firstName:i,lastName:n,username:r,isActive:s}},b=function(e){return{type:"AUTH_ERROR",error:e}},E=function(e,t,a,i,n,r,s){!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return function(){var u=Object(f.a)(p.a.mark((function u(l){var o,c,m,d,f;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return l(b(null)),u.next=3,fetch("".concat(g,"/socialsignin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:t,username:a,email:i,socialAuthToken:n,provider:s,id:r})});case 3:if((o=u.sent).ok){u.next=13;break}return u.next=7,o.json();case 7:return c=u.sent,m=c.message,d="\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!","FACEBOOK_AUTH_ERROR"===m?d="\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0432\u0432\u0456\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Facebook, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0456\u043d\u0448\u0456 \u0441\u043f\u043e\u0441\u043e\u0431\u0438.":"USERNAME_EXISTS"===m&&(d="\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0432\u0432\u0456\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0456\u043d\u0448\u0456 \u0441\u043f\u043e\u0441\u043e\u0431\u0438."),l(b(new Error(d))),u.abrupt("return");case 13:return u.next=15,o.json();case 15:f=u.sent,l(v(f.token,f.userId,f.email,f.first_name,f.last_name,f.username,f.is_active)),h(f.token,f.userId,f.email,f.first_name,f.last_name,f.username,f.is_active);case 18:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()},h=function(e,t,a,i,n,r,s){localStorage.setItem("userData",JSON.stringify({token:e,userId:t,email:a,firstName:i,lastName:n,username:r,isActive:s}))},O=function(e){return JSON.parse(localStorage.getItem(e))},N={token:null,userId:null,email:null,firstName:null,lastName:null,username:null,isActive:!1,error:null,isLocalStorageFetched:!1},y=a(101),x=function e(t,a,i,n,r,s,u,l){Object(y.a)(this,e),this.id=t,this.title=a,this.category=i,this.description=n,this.creator=r,this.votes_count=s,this.created_date=new Date(u),this.answer=l},T=x,I=function e(t,a,i,n){Object(y.a)(this,e),this.id=t,this.firstName=a,this.lastName=i,this.username=n},j="http://127.0.0.1:8000/api/",S=function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var a,i,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SET_PETITIONS_LOADING",loading:!0}),t({type:"SET_PETITIONS_ERROR",error:null}),e.prev=2,e.next=5,fetch("".concat(j,"petitions/expired/"));case 5:return a=e.sent,e.next=8,a.json();case 8:i=e.sent,n=[],i.petitions.forEach((function(e){n.push(new T(e.id,e.title,e.categoryTitle,e.text,e.author,e.voteScore,e.createdAt,e.answer))})),t({type:"SET_LAST_EXPIRED_PETITIONS",petitions:n}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t({type:"SET_PETITIONS_ERROR",error:e.t0});case 17:return e.prev=17,t({type:"SET_PETITIONS_LOADING",loading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){var i=Object(f.a)(p.a.mark((function i(n){var r,s,u,l,o;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n({type:"SET_PETITIONS",petitions:null,numPages:10}),n({type:"SET_PETITIONS_LOADING",loading:!0}),n({type:"SET_PETITIONS_ERROR",error:null}),i.prev=3,i.next=6,fetch("".concat(j,"petitions/?page=").concat(e,"&category=").concat(t,"&author=").concat(a));case 6:return r=i.sent,i.next=9,r.json();case 9:s=i.sent,u=[],l=s.numPages,o=s.stats,s.petitions.forEach((function(e){u.push(new T(e.id,e.title,e.categoryTitle,e.text,e.author,e.voteScore,e.createdAt,e.answer))})),n({type:"SET_PETITIONS",petitions:u,numPages:l,stats:o}),i.next=20;break;case 17:i.prev=17,i.t0=i.catch(3),n({type:"SET_PETITIONS_ERROR",error:i.t0});case 20:return i.prev=20,n({type:"SET_PETITIONS_LOADING",loading:!1}),i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[3,17,20,23]])})));return function(e){return i.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var i,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_CURRENT_PETITION_ERROR",error:null}),a({type:"SET_CURRENT_PETITION",petition:null}),a({type:"SET_CURRENT_P  ETITION_LOADING",loading:!0}),t.prev=3,t.next=6,fetch("".concat(j,"petitions/petition/").concat(e,"/"),{headers:{"Content-Type":"application/json"}});case 6:if((i=t.sent).ok){t.next=9;break}throw new Error("Something went wrong!");case 9:return t.next=11,i.json();case 11:n=(n=t.sent).petition,r=new T(n.id,n.title,n.categoryTitle,n.text,n.author,n.voteScore,n.createdAt,n.answer),a({type:"SET_CURRENT_PETITION",petition:r}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),a({type:"SET_CURRENT_PETITION_ERROR",error:t.t0});case 20:return t.prev=20,a({type:"SET_CURRENT_P  ETITION_LOADING",loading:!1}),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},P={numPages:null,lastExpiredPetitions:null,stats:null,petitions:null,petitionsError:null,petitionsLoading:null,currentPetition:null,currentPetitionLoading:null,currentPetitionError:null,addedPetitionUrl:null,addedPetitionError:null,addedPetitionLoading:null,votedPetitionId:null,votedPetitionMessage:null,votedPetitionError:null,votedPetitionLoading:null,userData:null,userDataLoading:null,userDataError:null},C=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":return Object(m.a)({},e,{token:t.token,userId:t.userId,email:t.email,firstName:t.firstName,lastName:t.lastName,userName:t.username,isActive:t.isActive,isLocalStorageFetched:!0});case"AUTH_ERROR":return Object(m.a)({},e,{error:t.error});case"LOCAL_STORAGE_FETCH":return Object(m.a)({},e,{isLocalStoreFetched:!0});case"LOCAL_STORAGE_REMOVE":return Object(m.a)({},N,{isLocalStorageFetched:!0});default:return e}},petitions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PETITIONS":return Object(m.a)({},e,{petitions:t.petitions,numPages:t.numPages,stats:t.stats});case"SET_PETITIONS_LOADING":return Object(m.a)({},e,{petitionsLoading:t.loading});case"SET_PETITIONS_ERROR":return Object(m.a)({},e,{petitionsError:t.error});case"SET_ADDED_PETITION_URL":return Object(m.a)({},e,{addedPetitionUrl:t.petitionUrl});case"SET_ADDED_PETITION_LOADING":return Object(m.a)({},e,{addedPetitionLoading:t.loading});case"SET_ADDED_PETITION_ERROR":return Object(m.a)({},e,{error:t.error});case"SET_CURRENT_PETITION":return Object(m.a)({},e,{currentPetition:t.petition});case"SET_CURRENT_PETITION_ERROR":return Object(m.a)({},e,{currentPetitionError:t.error});case"SET_CURRENT_P  ETITION_LOADING":return Object(m.a)({},e,{currentPetitionLoading:t.loading});case"VOTE_PETITION":return Object(m.a)({},e,{votedPetitionMessage:t.message,votedPetitionId:t.petitionId});case"VOTE_PETITION_LOADING":return Object(m.a)({},e,{votedPetitionLoading:t.loading});case"VOTE_PETITION_ERROR":return Object(m.a)({},e,{votedPetitionError:t.error});case"SET_LAST_EXPIRED_PETITIONS":return Object(m.a)({},e,{lastExpiredPetitions:t.petitions});case"SET_USER_DATA":return Object(m.a)({},e,{userData:t.userData});case"SET_USER_DATA_ERROR":return Object(m.a)({},e,{userDataError:t.error});case"SET_USER_DATA_LOADING":return Object(m.a)({},e,{userDataLoading:t.loading});default:return e}}}),V=Object(o.d)(C,Object(o.a)(c.a)),A=a(20),R=a(142),D=a(172),w=a(314),k=a(315),L=a(212),M=a(316),U=a(91),F=a(336),G=(a(239),Object(D.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,fontFamily:"Roboto-Bold",cursor:"pointer"},rightAccName:{color:"#000"}}}))),B=Object(F.a)()((function(e){var t=e.buttonIsVisible,a=void 0===t||t,r=e.onLoadingChange,s=Object(R.a)(e,["buttonIsVisible","onLoadingChange"]),u=Object(i.useState)(null),o=Object(A.a)(u,2),c=o[0],m=o[1],d=Object(U.g)(),g=G(),v=Object(l.b)(),b=Object(l.c)((function(e){return e.auth.isLocalStorageFetched})),E=Object(l.c)((function(e){return e.auth.email}));Object(i.useEffect)((function(){if(b||E||v(function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=O("userData"))&&t({type:"AUTHENTICATE",userId:a.userId,token:a.token,email:a.email,firstName:a.firstName,lastName:a.lastName,username:a.userName,isActive:a.isActive}),t({type:"LOCAL_STORAGE_FETCH"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E)switch(s.width){case"xl":case"lg":m(E.length>40?E.slice(0,36)+"...":E);break;case"md":m(E.length>23?E.slice(0,20)+"...":E);break;case"sm":m(E.length>14?E.slice(0,12)+"...":E);break;case"xs":m(E.length>9?E.slice(0,5)+"...":E);break;default:m(E)}}),[b,E]);return n.a.createElement("header",null,n.a.createElement(w.a,{position:"static"},n.a.createElement(k.a,null,n.a.createElement(L.a,{variant:"h5",className:g.title,onClick:function(){d.push("/")}},"\u041f\u0435\u0442\u0438\u0446\u0456\u0430\u0440\u043d\u0430 \u0441\u043b\u0443\u0436\u0431\u0430 \u041a\u041d\u0423"),E&&n.a.createElement(L.a,{variant:"h5",className:g.rightAccName,onClick:function(){d.push("/")}},c),a&&n.a.createElement(M.a,{onClick:function(){E&&(r(!0),v(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userData"),t({type:"LOCAL_STORAGE_REMOVE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){})).finally((function(){return r(!1)}))),d.push("/signin")},color:"inherit"},E?"\u0412\u0438\u0445\u0456\u0434":"\u0412\u0445\u0456\u0434"))))})),z=["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam sed tincidunt diam. Maecenas sit amet risus eu libero viverra accumsan at nec lacus. Nulla facilisi. Maecenas auctor risus sed leo tristique fermentum. Phasellus cursus, ligula ut tempor accumsan, eros eros tristique orci, eu porta justo felis quis nisi. Aliquam pharetra porta leo a suscipit. Maecenas maximus gravida enim, ac fermentum libero eleifend eu. Fusce sed aliquam dui. Proin nec eleifend magna.\n\nPhasellus sed pretium velit. Suspendisse imperdiet tincidunt maximus. Aenean condimentum, metus in tristique vestibulum, elit nunc sagittis tellus, sodales imperdiet elit felis eget mi. Praesent nec maximus urna. Nullam malesuada dignissim sapien sed rutrum. Fusce porta, massa eget facilisis consequat, justo ligula viverra arcu, sed finibus erat ante id dui. Proin sed justo enim. Nullam volutpat placerat tortor, sed feugiat libero condimentum vel. In suscipit viverra leo a malesuada. Nullam convallis, sapien eu accumsan finibus, nisl neque vulputate mauris, vel iaculis diam lacus ut ex. Donec at dignissim purus, eu blandit nibh. Phasellus viverra luctus tortor, non laoreet leo scelerisque faucibus. Pellentesque nec turpis neque. Morbi malesuada nulla at est ultricies sagittis. Nulla sit amet enim venenatis, efficitur metus vitae, posuere odio. Phasellus vulputate dictum urna eget interdum.\n\nNullam lobortis dui ut purus pellentesque sagittis. Etiam mattis, arcu et luctus tincidunt, sem lorem vestibulum magna, a porttitor enim orci ac sapien. Fusce non leo ac urna aliquam mattis quis sagittis ex. Vestibulum vel lacus mauris. Vivamus fringilla elit lorem, id pretium metus tempor ut. Duis tincidunt eros eu tortor tincidunt ornare. Suspendisse nisi metus, finibus eu iaculis id, bibendum nec massa. Aliquam dolor libero, aliquam sed justo ac, egestas blandit mi. Aenean eu urna bibendum, ornare ligula ut, varius tellus. Curabitur condimentum suscipit tortor, aliquet malesuada magna euismod sit amet. Nam vestibulum nulla convallis, eleifend dui ac, elementum nisi. In eget arcu enim. Praesent ac nunc molestie, vulputate ante ac, efficitur diam. Praesent vel mollis libero. Mauris convallis ipsum varius eleifend pulvinar.\n\nCurabitur sed sem tortor. Nullam condimentum commodo erat, id tempus turpis euismod quis. Proin leo urna, aliquam vitae eros quis, laoreet fringilla lorem. Etiam tempor turpis ac metus pulvinar gravida. Aenean porttitor imperdiet ipsum, sit amet commodo mi aliquet et. Suspendisse convallis erat eu turpis pretium, ac laoreet nunc hendrerit. Proin ornare nisi quis ultrices viverra. Fusce ut volutpat eros. Praesent ut odio mauris. Donec vel libero finibus, placerat dolor facilisis, auctor massa. Nam mi lorem, tristique id vulputate dignissim, luctus vel urna. Vivamus tempus lacus feugiat, sodales turpis et, rutrum metus. Ut molestie eu libero sed dignissim. Morbi posuere congue malesuada.","Duis maximus, orci ut dapibus vehicula, metus eros pellentesque lorem, eu tristique justo leo a elit. Sed dui mauris, dictum id est sed, sollicitudin congue massa. Etiam mattis nunc quis libero condimentum, quis convallis lectus rutrum. Phasellus at nibh odio. Ut et fermentum neque. Quisque commodo maximus massa, eget dapibus metus. Integer viverra venenatis nunc, at placerat arcu dapibus eget. Suspendisse in arcu odio. Nam tempus nunc ut mauris vulputate pretium. Aliquam erat volutpat. Sed viverra accumsan dui. Vivamus eleifend purus nisi, eu suscipit tellus ultrices dictum.\n\nProin felis felis, pulvinar vitae eros at, pellentesque posuere erat. Morbi ut erat a magna cursus mollis. Ut sit amet leo ut massa mattis interdum. Mauris porta, felis sed accumsan maximus, lorem dolor rutrum nunc, sit amet pharetra elit neque sed odio. Duis non libero nec est lobortis sollicitudin ac non mauris. Integer auctor, nunc at malesuada dignissim, quam ex porta nibh, non suscipit erat ante ut dolor. Etiam scelerisque finibus orci, ac sodales arcu lacinia at. Maecenas vehicula et urna vel gravida. In id erat bibendum, sodales diam varius, pharetra nibh. Duis venenatis suscipit facilisis. Nunc et ipsum augue.\n\nVestibulum at mauris leo. Donec ante metus, ullamcorper ac tempus at, congue eu sapien. Nulla varius neque nibh, a imperdiet odio volutpat sollicitudin. Suspendisse et ipsum libero. Vivamus maximus dolor vitae facilisis semper. Curabitur sodales dapibus convallis. Pellentesque tempor dapibus augue, vel tincidunt dolor sagittis non. Sed posuere, urna ut placerat fermentum, nibh nibh ultricies sem, at feugiat enim quam ut ipsum. Mauris sit amet mattis magna. Duis malesuada, dolor ac pretium lobortis, tortor arcu hendrerit eros, in vulputate odio risus a mi. Pellentesque nibh ante, elementum in ultricies a, tristique eu neque.","Pellentesque nisl diam, dictum sollicitudin nulla sed, scelerisque faucibus ligula. Maecenas in orci a lectus pulvinar pulvinar. Integer pharetra molestie turpis, in dictum mi molestie eget. Aliquam tempus pretium dolor eget tempus. Mauris dolor orci, fermentum ac pretium vitae, posuere vel elit. Quisque vestibulum nulla eget est dignissim porttitor. Aenean at lectus mauris. Etiam dolor lorem, varius sit amet ex vitae, interdum ullamcorper est. Sed lacinia eros nibh, non eleifend purus vehicula eu. Donec et nibh dapibus, tincidunt massa quis, lacinia risus. Pellentesque ipsum nunc, venenatis facilisis massa a, dapibus viverra arcu. Proin consequat sem velit, sed tincidunt metus bibendum a. Aenean turpis metus, sollicitudin vel sem ac, dignissim ultrices quam. Fusce ultricies nibh libero, eget rutrum libero porttitor ut.\n\nCras magna nisl, suscipit at metus in, fermentum luctus risus. Fusce convallis neque et sapien convallis porttitor a sed ante. Praesent eget pretium velit. Aenean mauris tellus, convallis nec suscipit a, lacinia vitae libero. Integer vulputate aliquam mollis. Donec ac maximus sem. Morbi id massa imperdiet, viverra ligula non, bibendum lectus.","Pellentesque nisl diam, dictum sollicitudin nulla sed, scelerisque faucibus ligula. Maecenas in orci a lectus pulvinar pulvinar. Integer pharetra molestie turpis, in dictum mi molestie eget. Aliquam tempus pretium dolor eget tempus. Mauris dolor orci, fermentum ac pretium vitae, posuere vel elit. Quisque vestibulum nulla eget est dignissim porttitor. Aenean at lectus mauris. Etiam dolor lorem, varius sit amet ex vitae, interdum ullamcorper est. Sed lacinia eros nibh, non eleifend purus vehicula eu. Donec et nibh dapibus, tincidunt massa quis, lacinia risus. Pellentesque ipsum nunc, venenatis facilisis massa a, dapibus viverra arcu. Proin consequat sem velit, sed tincidunt metus bibendum a. Aenean turpis metus, sollicitudin vel sem ac, dignissim ultrices quam. Fusce ultricies nibh libero, eget rutrum libero porttitor ut.\n\nCras magna nisl, suscipit at metus in, fermentum luctus risus. Fusce convallis neque et sapien convallis porttitor a sed ante. Praesent eget pretium velit. Aenean mauris tellus, convallis nec suscipit a, lacinia vitae libero. Integer vulputate aliquam mollis. Donec ac maximus sem. Morbi id massa imperdiet, viverra ligula non, bibendum lectus.\n\nDonec at dapibus leo. Proin sed eros non mi porttitor ultrices. Ut nec sem egestas ex sollicitudin posuere. Nulla aliquet libero nec risus posuere, sed convallis justo rutrum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In imperdiet purus vel nibh aliquam imperdiet. Cras mi dui, interdum ac commodo et, vehicula non mi. Ut erat ante, pretium eget vulputate id, efficitur a tortor. Quisque id massa et augue efficitur condimentum. Nullam a gravida sem, a eleifend tortor. Aenean ut elit magna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas eu metus facilisis, tincidunt felis nec, tincidunt massa. Sed ac orci urna. Pellentesque non eleifend ante. Donec elementum enim at ornare mollis.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam sed tincidunt diam. Maecenas sit amet risus eu libero viverra accumsan at nec lacus. Nulla facilisi. Maecenas auctor risus sed leo tristique fermentum. Phasellus cursus, ligula ut tempor accumsan, eros eros tristique orci, eu porta justo felis quis nisi. Aliquam pharetra porta leo a suscipit. Maecenas maximus gravida enim, ac fermentum libero eleifend eu. Fusce sed aliquam dui. Proin nec eleifend magna.\n\nPhasellus sed pretium velit. Suspendisse imperdiet tincidunt maximus. Aenean condimentum, metus in tristique vestibulum, elit nunc sagittis tellus, sodales imperdiet elit felis eget mi. Praesent nec maximus urna. Nullam malesuada dignissim sapien sed rutrum. Fusce porta, massa eget facilisis consequat, justo ligula viverra arcu, sed finibus erat ante id dui. Proin sed justo enim. Nullam volutpat placerat tortor, sed feugiat libero condimentum vel. In suscipit viverra leo a malesuada. Nullam convallis, sapien eu accumsan finibus, nisl neque vulputate mauris, vel iaculis diam lacus ut ex. Donec at dignissim purus, eu blandit nibh. Phasellus viverra luctus tortor, non laoreet leo scelerisque faucibus. Pellentesque nec turpis neque. Morbi malesuada nulla at est ultricies sagittis. Nulla sit amet enim venenatis, efficitur metus vitae, posuere odio. Phasellus vulputate dictum urna eget interdum.\n\nNullam lobortis dui ut purus pellentesque sagittis. Etiam mattis, arcu et luctus tincidunt, sem lorem vestibulum magna, a porttitor enim orci ac sapien. Fusce non leo ac urna aliquam mattis quis sagittis ex. Vestibulum vel lacus mauris. Vivamus fringilla elit lorem, id pretium metus tempor ut. Duis tincidunt eros eu tortor tincidunt ornare. Suspendisse nisi metus, finibus eu iaculis id, bibendum nec massa. Aliquam dolor libero, aliquam sed justo ac, egestas blandit mi. Aenean eu urna bibendum, ornare ligula ut, varius tellus. Curabitur condimentum suscipit tortor, aliquet malesuada magna euismod sit amet. Nam vestibulum nulla convallis, eleifend dui ac, elementum nisi. In eget arcu enim. Praesent ac nunc molestie, vulputate ante ac, efficitur diam. Praesent vel mollis libero. Mauris convallis ipsum varius eleifend pulvinar.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam sed tincidunt diam. Maecenas sit amet risus eu libero viverra accumsan at nec lacus. Nulla facilisi. Maecenas auctor risus sed leo tristique fermentum. Phasellus cursus, ligula ut tempor accumsan, eros eros tristique orci, eu porta justo felis quis nisi. Aliquam pharetra porta leo a suscipit. Maecenas maximus gravida enim, ac fermentum libero eleifend eu. Fusce sed aliquam dui. Proin nec eleifend magna.\n\nPhasellus sed pretium velit. Suspendisse imperdiet tincidunt maximus. Aenean condimentum, metus in tristique vestibulum, elit nunc sagittis tellus, sodales imperdiet elit felis eget mi. Praesent nec maximus urna. Nullam malesuada dignissim sapien sed rutrum. Fusce porta, massa eget facilisis consequat, justo ligula viverra arcu, sed finibus erat ante id dui. Proin sed justo enim. Nullam volutpat placerat tortor, sed feugiat libero condimentum vel. In suscipit viverra leo a malesuada. Nullam convallis, sapien eu accumsan finibus, nisl neque vulputate mauris, vel iaculis diam lacus ut ex. Donec at dignissim purus, eu blandit nibh. Phasellus viverra luctus tortor, non laoreet leo scelerisque faucibus. Pellentesque nec turpis neque. Morbi malesuada nulla at est ultricies sagittis. Nulla sit amet enim venenatis, efficitur metus vitae, posuere odio. Phasellus vulputate dictum urna eget interdum.\n\nNullam lobortis dui ut purus pellentesque sagittis. Etiam mattis, arcu et luctus tincidunt, sem lorem vestibulum magna, a porttitor enim orci ac sapien. Fusce non leo ac urna aliquam mattis quis sagittis ex. Vestibulum vel lacus mauris. Vivamus fringilla elit lorem, id pretium metus tempor ut. Duis tincidunt eros eu tortor tincidunt ornare. Suspendisse nisi metus, finibus eu iaculis id, bibendum nec massa. Aliquam dolor libero, aliquam sed justo ac, egestas blandit mi. Aenean eu urna bibendum, ornare ligula ut, varius tellus. Curabitur condimentum suscipit tortor, aliquet malesuada magna euismod sit amet. Nam vestibulum nulla convallis, eleifend dui ac, elementum nisi. In eget arcu enim. Praesent ac nunc molestie, vulputate ante ac, efficitur diam. Praesent vel mollis libero. Mauris convallis ipsum varius eleifend pulvinar.","Curabitur sed sem tortor. Nullam condimentum commodo erat, id tempus turpis euismod quis. Proin leo urna, aliquam vitae eros quis, laoreet fringilla lorem. Etiam tempor turpis ac metus pulvinar gravida. Aenean porttitor imperdiet ipsum, sit amet commodo mi aliquet et. Suspendisse convallis erat eu turpis pretium, ac laoreet nunc hendrerit. Proin ornare nisi quis ultrices viverra. Fusce ut volutpat eros. Praesent ut odio mauris. Donec vel libero finibus, placerat dolor facilisis, auctor massa. Nam mi lorem, tristique id vulputate dignissim, luctus vel urna. Vivamus tempus lacus feugiat, sodales turpis et, rutrum metus. Ut molestie eu libero sed dignissim. Morbi posuere congue malesuada.\n\nDuis maximus, orci ut dapibus vehicula, metus eros pellentesque lorem, eu tristique justo leo a elit. Sed dui mauris, dictum id est sed, sollicitudin congue massa. Etiam mattis nunc quis libero condimentum, quis convallis lectus rutrum. Phasellus at nibh odio. Ut et fermentum neque. Quisque commodo maximus massa, eget dapibus metus. Integer viverra venenatis nunc, at placerat arcu dapibus eget. Suspendisse in arcu odio. Nam tempus nunc ut mauris vulputate pretium. Aliquam erat volutpat. Sed viverra accumsan dui. Vivamus eleifend purus nisi, eu suscipit tellus ultrices dictum.\n\nProin felis felis, pulvinar vitae eros at, pellentesque posuere erat. Morbi ut erat a magna cursus mollis. Ut sit amet leo ut massa mattis interdum. Mauris porta, felis sed accumsan maximus, lorem dolor rutrum nunc, sit amet pharetra elit neque sed odio. Duis non libero nec est lobortis sollicitudin ac non mauris. Integer auctor, nunc at malesuada dignissim, quam ex porta nibh, non suscipit erat ante ut dolor. Etiam scelerisque finibus orci, ac sodales arcu lacinia at. Maecenas vehicula et urna vel gravida. In id erat bibendum, sodales diam varius, pharetra nibh. Duis venenatis suscipit facilisis. Nunc et ipsum augue.","Curabitur sed sem tortor. Nullam condimentum commodo erat, id tempus turpis euismod quis. Proin leo urna, aliquam vitae eros quis, laoreet fringilla lorem. Etiam tempor turpis ac metus pulvinar gravida. Aenean porttitor imperdiet ipsum, sit amet commodo mi aliquet et. Suspendisse convallis erat eu turpis pretium, ac laoreet nunc hendrerit. Proin ornare nisi quis ultrices viverra. Fusce ut volutpat eros. Praesent ut odio mauris. Donec vel libero finibus, placerat dolor facilisis, auctor massa. Nam mi lorem, tristique id vulputate dignissim, luctus vel urna. Vivamus tempus lacus feugiat, sodales turpis et, rutrum metus. Ut molestie eu libero sed dignissim. Morbi posuere congue malesuada.\n\nDuis maximus, orci ut dapibus vehicula, metus eros pellentesque lorem, eu tristique justo leo a elit. Sed dui mauris, dictum id est sed, sollicitudin congue massa. Etiam mattis nunc quis libero condimentum, quis convallis lectus rutrum. Phasellus at nibh odio. Ut et fermentum neque. Quisque commodo maximus massa, eget dapibus metus. Integer viverra venenatis nunc, at placerat arcu dapibus eget. Suspendisse in arcu odio. Nam tempus nunc ut mauris vulputate pretium. Aliquam erat volutpat. Sed viverra accumsan dui. Vivamus eleifend purus nisi, eu suscipit tellus ultrices dictum.\n\nProin felis felis, pulvinar vitae eros at, pellentesque posuere erat. Morbi ut erat a magna cursus mollis. Ut sit amet leo ut massa mattis interdum. Mauris porta, felis sed accumsan maximus, lorem dolor rutrum nunc, sit amet pharetra elit neque sed odio. Duis non libero nec est lobortis sollicitudin ac non mauris. Integer auctor, nunc at malesuada dignissim, quam ex porta nibh, non suscipit erat ante ut dolor. Etiam scelerisque finibus orci, ac sodales arcu lacinia at. Maecenas vehicula et urna vel gravida. In id erat bibendum, sodales diam varius, pharetra nibh. Duis venenatis suscipit facilisis. Nunc et ipsum augue.","Curabitur sed sem tortor. Nullam condimentum commodo erat, id tempus turpis euismod quis. Proin leo urna, aliquam vitae eros quis, laoreet fringilla lorem. Etiam tempor turpis ac metus pulvinar gravida. Aenean porttitor imperdiet ipsum, sit amet commodo mi aliquet et. Suspendisse convallis erat eu turpis pretium, ac laoreet nunc hendrerit. Proin ornare nisi quis ultrices viverra. Fusce ut volutpat eros. Praesent ut odio mauris. Donec vel libero finibus, placerat dolor facilisis, auctor massa. Nam mi lorem, tristique id vulputate dignissim, luctus vel urna. Vivamus tempus lacus feugiat, sodales turpis et, rutrum metus. Ut molestie eu libero sed dignissim. Morbi posuere congue malesuada.\n\nDuis maximus, orci ut dapibus vehicula, metus eros pellentesque lorem, eu tristique justo leo a elit. Sed dui mauris, dictum id est sed, sollicitudin congue massa. Etiam mattis nunc quis libero condimentum, quis convallis lectus rutrum. Phasellus at nibh odio. Ut et fermentum neque. Quisque commodo maximus massa, eget dapibus metus. Integer viverra venenatis nunc, at placerat arcu dapibus eget. Suspendisse in arcu odio. Nam tempus nunc ut mauris vulputate pretium. Aliquam erat volutpat. Sed viverra accumsan dui. Vivamus eleifend purus nisi, eu suscipit tellus ultrices dictum.\n\nProin felis felis, pulvinar vitae eros at, pellentesque posuere erat. Morbi ut erat a magna cursus mollis. Ut sit amet leo ut massa mattis interdum. Mauris porta, felis sed accumsan maximus, lorem dolor rutrum nunc, sit amet pharetra elit neque sed odio. Duis non libero nec est lobortis sollicitudin ac non mauris. Integer auctor, nunc at malesuada dignissim, quam ex porta nibh, non suscipit erat ante ut dolor. Etiam scelerisque finibus orci, ac sodales arcu lacinia at. Maecenas vehicula et urna vel gravida. In id erat bibendum, sodales diam varius, pharetra nibh. Duis venenatis suscipit facilisis. Nunc et ipsum augue.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam a risus non lacus hendrerit commodo. Vivamus mollis justo sed est accumsan finibus. Integer faucibus, massa at commodo gravida, quam sapien vestibulum urna, efficitur mollis felis mauris ut justo. Praesent sagittis, velit ut dignissim tincidunt, nulla lectus mattis justo, in porta ipsum dolor ac lorem. Suspendisse sagittis, libero vel egestas semper, elit eros sodales magna, vitae ultrices leo eros eget ligula. Etiam urna elit, faucibus nec tellus in, consectetur vestibulum urna. Mauris sodales, ante volutpat commodo facilisis, dolor nunc consequat sapien, a tempor justo tortor et orci. Proin eget suscipit neque. Aenean eleifend sem vel sem fermentum, quis porta lectus ultricies. Sed tincidunt risus lacus, eu laoreet leo faucibus a. Curabitur sagittis nisi sit amet lobortis feugiat.\n\nCurabitur sit amet purus bibendum, blandit lacus eu, commodo mi. Integer molestie ligula dolor, eget volutpat orci tristique eu. Cras nec pharetra enim. Pellentesque vitae neque at quam malesuada euismod ac at sapien. Etiam eu sapien id nibh sollicitudin volutpat id in erat. Morbi eget erat mi. Phasellus nec tellus aliquam, gravida nisi sit amet, viverra quam.","Donec justo augue, cursus vitae mauris quis, accumsan finibus elit. Nullam semper dapibus quam non gravida. In hac habitasse platea dictumst. Phasellus in mi dolor. Proin sapien ex, egestas vel elit vel, efficitur ultrices mauris. Pellentesque accumsan, orci eget tincidunt rhoncus, ligula lectus porttitor sem, nec commodo metus quam viverra eros. Proin pulvinar neque erat, id sodales eros lacinia sit amet. Fusce vehicula lacus dui. Nam laoreet bibendum gravida. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n\nProin id posuere mi. Sed purus lectus, egestas at posuere vitae, malesuada nec dolor. Maecenas ullamcorper nisl arcu, varius porttitor dui congue at. Proin eu dolor a lectus varius pellentesque. Donec congue turpis eu aliquam hendrerit. Curabitur eget elit blandit, suscipit velit vitae, vestibulum est. Sed eu varius augue. Morbi condimentum, enim sed porttitor sollicitudin, ante odio elementum ipsum, ut eleifend nulla odio et quam. Aliquam mattis finibus ligula laoreet tincidunt. Curabitur pharetra magna at turpis aliquet varius. Sed sagittis ac tellus vitae ornare. Donec tempor, quam rutrum luctus sagittis, augue ex iaculis magna, id rutrum magna ipsum a mi. Praesent hendrerit ante risus. In convallis scelerisque sem, posuere sagittis erat mattis sit amet. Phasellus accumsan volutpat nisi vel elementum. Vivamus quis magna orci.","Curabitur mollis tempor nulla sed volutpat. Sed quis nisi sem. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nam rhoncus eu mauris a posuere. Suspendisse varius orci a enim finibus, eu rhoncus sem consectetur. Nunc vel iaculis erat, interdum interdum dolor. Mauris consectetur vehicula felis, ac gravida arcu eleifend pellentesque. Nunc molestie vitae ex ut lacinia. Etiam bibendum augue vel efficitur ultricies. Fusce dignissim tempus feugiat. Sed vitae facilisis nunc, ac tristique justo. Aliquam elementum ac odio vitae lobortis.\n\nEtiam nec est orci. Nam ex sapien, volutpat non malesuada eget, blandit quis erat. Fusce dictum, massa at volutpat tristique, tortor velit gravida justo, eget gravida elit ex quis nulla. Nam non nisi facilisis est sollicitudin consequat vel ac magna. Morbi feugiat hendrerit nibh a gravida. Fusce semper elit eu urna imperdiet mattis. Aliquam imperdiet neque ac urna tincidunt porta. Nam semper mi a ultricies sagittis.\n\nAenean commodo ipsum ligula, non lacinia ex lobortis in. Donec lacinia eget ex vel imperdiet. Cras nunc libero, varius vitae mi vel, rhoncus condimentum turpis. Nullam in sodales eros, euismod ultrices lectus. Etiam porta velit leo, sit amet interdum massa facilisis non. Vestibulum laoreet ex justo, sollicitudin tincidunt libero porttitor nec. Curabitur pretium, nulla ut fermentum gravida, mi velit blandit enim, ut faucibus mauris elit a urna. Pellentesque dapibus ante vitae volutpat consequat. Donec vulputate mattis dolor, eu mattis eros. Morbi elementum nunc et faucibus placerat.\n\nNulla facilisi. Sed lobortis iaculis ex, quis mattis odio. Nam non dapibus lorem. Integer ac risus non dolor congue lacinia id id ante. Fusce neque diam, gravida vel varius in, tristique et eros. Duis enim mi, egestas eu tempor finibus, vulputate eget turpis. Vestibulum vitae convallis orci. Praesent ultrices dignissim iaculis. Fusce vitae suscipit mi, malesuada tempus dui. In euismod ultrices est nec dignissim. In pulvinar imperdiet dolor at vulputate. Aenean congue, mauris vel accumsan dignissim, quam eros ornare ex, non pulvinar est sem sit amet felis.\n\nNulla ut magna at urna congue dapibus. Ut et venenatis metus, quis finibus leo. Phasellus fringilla libero vitae diam mattis, vitae mollis turpis sollicitudin. Vestibulum eu ante ultricies, posuere ex quis, maximus enim. Integer quis leo et mauris vestibulum sollicitudin quis quis ante. Nullam imperdiet egestas quam. Cras eu massa semper, molestie purus nec, vehicula nisi. Vivamus at eros ac tellus mollis facilisis non vitae urna. Sed tempus viverra mi, id congue quam imperdiet in. Nam molestie iaculis porta."],H=(new x("0","\u0417\u0430\u0431\u0443\u0434\u043e\u0432\u0438 \u043d\u0430\u0432\u043a\u043e\u043b\u043e \u0447\u0435\u0440\u0432\u043e\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u0443\u0441\u0443!!!","\u041f\u043e\u0440\u0443\u0448\u0435\u043d\u043d\u044f \u041f\u043e\u0434\u0438\u0456\u0432\u0444\u0432",z[0],1,10,new Date,null),new x("1","\u041f\u0440\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0430\u0433\u0430\u0437 \u0431\u0456\u043b\u044f \u0424\u0420\u0415\u041a\u0421\u0423","Lorem ipsum asdalsdasd",z[1],2,15,new Date,null),new x("2","\u0412\u0438\u043c\u0430\u0433\u0430\u044e \u0437\u0432\u0456\u043b\u044c\u043d\u0435\u043d\u043d\u044f \u0434\u0435\u043a\u0430\u043d\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0443 \u0411\u0456\u043e\u043b\u043e\u0433\u0456\u0457!","Lorem ipm asdalsdsd",z[2],1,100,new Date,null),new x("3","\u0411\u0430\u0441\u0435\u0439\u043d \u043d\u0430 \u0424\u0456\u0437\u041c\u0430\u0442\u0456","Lorem ipsum aslsdasd",z[3],2,10,new Date,null),new x("4","\u041a\u0443\u0434\u0438 \u0434\u0456\u043b\u0438\u0441\u044f \u043b\u0438\u0441\u0438\u0446\u0456 \u0437 \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0433\u043e \u0444\u0430\u043a\u0443","Lorem ipsum alsdasd",z[4],2,70,new Date,null),new x("5","\u0427\u043e\u0440\u043d\u0438\u0439 \u044f\u0441\u0442\u0440\u0456\u0431 \u043d\u0430 \u0432\u0435\u0440\u0445\u0456\u0432\u0446\u0456 \u0433\u043e\u0440\u0438","Lorem ipsudalsdasd",z[5],2,40,new Date,null),new x("6","\u0411\u0456\u043b\u043e\u0437\u0456\u0440\u0438\u0439 \u043c\u043e\u043d\u0442\u0456\u0444\u0430\u0440 \u043d\u0435 \u0430\u043b\u0435\u044f","Lorem  asdalsdasd",z[6],4,90,new Date,null),new x("7","\u0427\u043e\u043c\u0443 \u043f\u0442\u0430\u0445\u0438 \u043d\u0435 \u0432\u0438\u043b\u0456\u0442\u0430\u044e\u0442\u044c \u0437 \u0412\u0443\u043b\u0438\u0446\u0456","Loremsum aasdsdalsdasd",z[7],4,21,new Date,null),new x("8","\u041c\u0430\u0439\u043d\u043a\u0440\u0430\u0444\u0442 \u0447\u0435\u043b\u043b\u0435\u043d\u0434\u0436","Lorem ipsum asdalsdasd",z[8],3,10,new Date,null),new x("9","\u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u043d\u0430 \u043a\u0440\u0430\u0449\u0438\u0439 \u043c\u0443\u0437\u0438\u043a\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u044e\u0445","Lorem ipsum asdalsdasd",z[9],3,8,new Date,null),new x("10","\u0412\u0438\u043c\u0430\u0433\u0430\u044e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u043e\u0431\u0456\u0446\u044f\u043d\u043a\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u043a\u0430\u043d\u0443 \u0414\u043e\u0440\u043e\u0448\u043a\u043e \u0410.\u0421.","Lorem ipsum asdalsdasd",z[10],1,1,new Date,null),new x("11","\u041a\u043e\u043b\u0438 \u0434\u043e\u0446\u0435\u043d\u0442 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0441\u0442\u044c \u043d\u0430 \u0437\u0430\u043f\u0438\u0442\u0430\u043d\u043d\u044f \u044f\u043a\u0456 \u0437\u0430\u0434\u0430\u0432\u0430\u0432 \u043c\u0438\u043d\u0443\u043b\u043e\u0433\u043e \u0440\u043e\u043a\u0443","Lorem ipsum asdalsdasd",z[11],1,0,new Date,null),[{id:1,title:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u0430 \u0437\u0430\u0431\u0443\u0434\u043e\u0432\u0430"},{id:2,title:"\u0413\u0456\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442"},{id:3,title:"\u0422\u0440\u0435\u0442\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"}]),W=a(318),J=a(317),Q=a(281),X=a(136),K=a.n(X),Z=a(137),$=a.n(Z),Y=a(335),ee=a(201),te=a.n(ee),ae=a(132),ie=a.n(ae),ne=a(131),re=a.n(ne),se=a(200),ue=a.n(se),le=a(129),oe=a.n(le),ce=a(133),me=a.n(ce),de=a(8),pe=a(342),fe=function(e){var t=e.value,a=void 0===t?0:t,i=Object(de.a)({root:{color:"#f44336",height:8},thumb:{height:24,width:24,backgroundColor:"currentColor",border:"0.1px solid #3f51d5",marginTop:-8,marginLeft:0,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(pe.a);return n.a.createElement(i,{valueLabelDisplay:"auto","aria-label":"pretto slider",value:a,max:200})},ge=Object(D.a)((function(e){return{paper:{backgroundColor:"#fff",display:"block",width:"100%",margin:e.spacing(1),padding:"1vh",cursor:"pointer"},boldText:{fontFamily:"Roboto-Bold",display:"flex",alignItems:"center"},text:{fontFamily:"Roboto-Regular",display:"flex",alignItems:"center"}}})),ve=function(e){var t=e.petition,a=e.isVotesCountHidden,r=void 0!==a&&a,s=Object(i.useState)(1),u=Object(A.a)(s,2),l=u[0],o=u[1],c=ge(),m=Object(U.g)();return n.a.createElement(Q.a,{elevation:l,className:c.paper,onMouseOver:function(){o(22)},onMouseOut:function(){o(3)},onClick:function(){m.push("/petitions/".concat(t.id))}},n.a.createElement(J.a,{container:!0},n.a.createElement(J.a,{container:!0,item:!0,lg:r?12:8,xs:12},n.a.createElement(J.a,{item:!0,xs:6},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},n.a.createElement(oe.a,{style:{color:"#f44336"}}),"\xa0",t.id)),n.a.createElement(J.a,{item:!0,xs:6},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},n.a.createElement(ue.a,{style:{color:"#f44336"}}),"\xa0",t.category)),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement("br",null),n.a.createElement(L.a,{variant:"body1",className:c.boldText},n.a.createElement(re.a,{style:{color:"#f44336"}}),"\xa0\xa0",t.title),n.a.createElement("br",null)),n.a.createElement(Y.a,{lgUp:!0,xsUp:r},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},"\u0417\u0456\u0431\u0440\u0430\u043d\u043e \u0433\u043e\u043b\u043e\u0441\u0456\u0432: ",t.votes_count,"/200"),n.a.createElement(fe,{value:t.votes_count}))),n.a.createElement(J.a,{item:!0,xs:6},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},n.a.createElement(ie.a,{fontSize:"small",style:{color:"#f44336"}}),"\xa0\xa0",t.created_date.toLocaleDateString())),n.a.createElement(J.a,{item:!0,xs:6},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},n.a.createElement(me.a,{style:{color:"#f44336"}}),"\xa0",t.creator.firstName+" "+t.creator.lastName))),n.a.createElement(Y.a,{mdDown:!0,xsUp:r},n.a.createElement(J.a,{container:!0,item:!0,lg:4},n.a.createElement(J.a,{item:!0,lg:8},n.a.createElement(L.a,{variant:"subtitle1",className:c.text},"\u0417\u0456\u0431\u0440\u0430\u043d\u043e \u0433\u043e\u043b\u043e\u0441\u0456\u0432: ",t.votes_count,"/200"),n.a.createElement(fe,{value:t.votes_count})),n.a.createElement(J.a,{item:!0,lg:4,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.a.createElement(te.a,{fontSize:"large",color:"primary"}))))))},be=a(338),Ee=a(191),he=a(320),Oe=(a(241),a(319)),Ne=function(e){var t=e.text,a=void 0===t?"":t;return n.a.createElement(W.a,{component:"main",maxWidth:"xs",style:{height:"70vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},n.a.createElement(Oe.a,{size:"5rem",color:"primary"}),n.a.createElement(L.a,{variant:"body1"},a))},ye=a(337),xe=a(202),Te=a.n(xe),Ie=function(){var e=Object(U.h)(),t=Object(U.g)(),a=new URLSearchParams(e.search),r=parseInt(a.get("page")||"1",10),s=Object(i.useState)([]),o=Object(A.a)(s,2),c=o[0],m=o[1],d=Object(i.useState)(!1),p=Object(A.a)(d,2),f=p[0],g=p[1],v=Object(i.useState)(!1),b=Object(A.a)(v,2),E=b[0],h=b[1],O=Object(i.useState)(0),N=Object(A.a)(O,2),y=N[0],x=N[1],T=Object(i.useState)(0),I=Object(A.a)(T,2),j=I[0],_=I[1],P=Object(l.b)(),C=Object(l.c)((function(e){return e.petitions.petitions})),V=Object(l.c)((function(e){return e.petitions.lastExpiredPetitions})),R=Object(l.c)((function(e){return e.petitions.numPages})),D=Object(l.c)((function(e){return e.petitions.petitionsLoading})),w=Object(l.c)((function(e){return e.petitions.petitionsError})),k=Object(l.c)((function(e){return e.petitions.stats}));Object(he.a)({matchFrom:"start",stringify:function(e){return e.title}});Object(i.useEffect)((function(){P(S())}),[]),Object(i.useEffect)((function(){m(C),g(D),h(w)}),[C,D,w]),Object(i.useEffect)((function(){F()}),[r]);var F=function(){P(q(r,y))};return f?n.a.createElement(Ne,null):E?n.a.createElement(L.a,{variant:"h5"},"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445 \u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u0443. ".concat(E)):n.a.createElement(W.a,{maxWidth:"xl"},n.a.createElement(J.a,{container:!0,style:{backgroundColor:"#cfe8fc"}},n.a.createElement(J.a,{container:!0,item:!0,lg:8,md:6,xs:12,style:{paddingTop:"2%",paddingLeft:"2%"}},n.a.createElement(J.a,{container:!0,item:!0,xs:12},n.a.createElement(J.a,{item:!0,xs:12,lg:4,style:{marginBottom:"2vh"}},n.a.createElement(L.a,{variant:"h5",align:"center",style:{display:"flex",itemsAlign:"center",justifyContent:"center",fontFamily:"Roboto-Bold"}},"\u0424\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u044f \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0454\u044e")),n.a.createElement(J.a,{item:!0,xs:12,lg:3,style:{marginBottom:"2vh"}},n.a.createElement(Te.a,{labelId:"select-category-label",id:"select-category",value:y,onChange:function(e){return t=e.target.value,void x(t);var t}},n.a.createElement(ye.a,{value:0},"\u0412\u0441\u0456 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"),n.a.createElement(ye.a,{value:1},H[0].title),n.a.createElement(ye.a,{value:2},H[1].title),n.a.createElement(ye.a,{value:3},H[2].title))),n.a.createElement(J.a,{item:!0,xs:12,lg:2,style:{marginBottom:"2vh"}},n.a.createElement(M.a,{style:{height:"100%"},variant:"contained",color:"primary",onClick:function(){!function(){for(var e=j;j==e;)e=Math.floor(3*Math.random()+1);_(e),x(e)}()}},"\u0412\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0430")),n.a.createElement(J.a,{item:!0,xs:12,lg:3,style:{marginBottom:"2vh"}},n.a.createElement(M.a,{fullWidth:!0,style:{height:"100%"},variant:"contained",color:"primary",onClick:function(){F()}},"\u0412\u0456\u0434\u0444\u0456\u043b\u044c\u0442\u0440\u0443\u0432\u0430\u0442\u0438"))),n.a.createElement(J.a,{item:!0,xs:12,style:{}},n.a.createElement(L.a,{variant:"h5",align:"center",style:{display:"flex",itemsAlign:"center",justifyContent:"center",fontFamily:"Roboto-Bold"}},n.a.createElement(K.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0\u0422\u0440\u0438\u0432\u0430\u0454 \u0437\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432")),n.a.createElement(J.a,{item:!0,container:!0,xs:12},c?c.map((function(e){return n.a.createElement(J.a,{key:e.id,item:!0,container:!0,xs:12},n.a.createElement(ve,{petition:e}))})):null),n.a.createElement(J.a,{item:!0,xs:4}),n.a.createElement(J.a,{item:!0,xs:8,style:{marginBottom:"2vh"}},n.a.createElement(be.a,{page:r,count:R,size:"large",color:"primary",renderItem:function(e){return n.a.createElement(Ee.a,Object.assign({component:u.b,to:"".concat(1===e.page?"":"?page=".concat(e.page))},e))}}))),n.a.createElement(J.a,{container:!0,item:!0,lg:4,md:6,xs:12,style:{paddingTop:"2%",paddingLeft:"2%"},alignContent:"flex-start",justify:"flex-start",alignItems:"flex-start"},n.a.createElement(J.a,{container:!0,item:!0,xs:12,style:{marginBottom:"2vh"}},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(M.a,{fullWidth:!0,style:{height:"100%"},variant:"contained",color:"primary",onClick:function(){t.push("/petition/create")}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0443 \u043f\u0435\u0442\u0438\u0446\u0456\u044e"))),n.a.createElement(J.a,{item:!0,xs:12,style:{}},n.a.createElement(L.a,{variant:"h5",align:"center",style:{fontFamily:"Roboto-Bold",display:"flex",itemsAlign:"center",justifyContent:"center"}},n.a.createElement($.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0\u041e\u0441\u0442\u0430\u043d\u043d\u0456 \u043f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0456 \u043f\u0435\u0442\u0438\u0446\u0456\u0457")),n.a.createElement(J.a,{item:!0,container:!0,xs:12,alignItems:"flex-start",style:{}},V?V.slice(0,5).map((function(e){return n.a.createElement(J.a,{key:e.id,container:!0,item:!0,xs:12},n.a.createElement(ve,{petition:e,isVotesCountHidden:!0}))})):null)),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Q.a,{elevation:2,style:{backgroundColor:"#cfe8fc"}},n.a.createElement(L.a,{variant:"body1",align:"right"},k&&"\u0412\u0441\u044c\u043e\u0433\u043e \u0437\u0456\u0431\u0440\u0430\u043d\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u0439: ".concat(k.petitionsCount,", \u0432\u0441\u044c\u043e\u0433\u043e \u0433\u043e\u043b\u043e\u0441\u0456\u0432: ").concat(k.votesCount))))))},je=(a(277),a(204)),Se=a.n(je),qe=Object(D.a)({container:{backgroundColor:"rgb(207, 232, 252)",paddingTop:"2vh",fontFamily:"Roboto"},gridContainer:{},petitionStatusText:{margin:"auto",display:"flex",alignItems:"center",marginBottom:"2vh",fontSize:25},pageTitle:{fontSize:25},votesCountText:{fontSize:20,margin:"auto"},text:{}}),_e=function(e){var t=Object(U.g)(),a=Object(i.useState)(null),r=Object(A.a)(a,2),s=r[0],u=r[1],o=Object(l.c)((function(e){return e.petitions.currentPetitionLoading})),c=Object(l.c)((function(e){return e.petitions.currentPetitionError})),m=Object(l.c)((function(e){return e.petitions.votedPetitionLoading})),d=Object(l.c)((function(e){return e.petitions.votedPetitionMessage})),g=Object(l.c)((function(e){return e.petitions.votedPetitionId})),v=Object(l.c)((function(e){return e.auth.token})),b=Object(i.useState)(0),E=Object(A.a)(b,2),h=E[0],O=E[1],N=Object(i.useState)("\u0422\u0440\u0438\u0432\u0430\u0454 \u0437\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432"),y=Object(A.a)(N,2),x=y[0],T=y[1],I=(Object(U.h)(),Object(U.j)()),S=Object(l.b)(),q=qe(),P=Object(l.c)((function(e){return e.petitions.currentPetition}));if(Object(i.useEffect)((function(){S(_(I.params.id))}),[d]),Object(i.useEffect)((function(){var e=I.params.id;P&&P.id===e?u(P):S(_(e))}),[]),Object(i.useEffect)((function(){s&&(O(s.votes_count),T(s.answer?"\u0417\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"\u0422\u0440\u0438\u0432\u0430\u0454 \u0437\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432"))}),[s]),Object(i.useEffect)((function(){s&&(O(s.votes_count),T(s.answer?"\u0417\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"\u0422\u0440\u0438\u0432\u0430\u0454 \u0437\u0431\u0456\u0440 \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432"))}),[s]),Object(i.useEffect)((function(){u(P)}),[P]),c)return n.a.createElement("div",null,"Error");if(o)return n.a.createElement(Ne,null);var C={datasets:[{data:[h,200-h],backgroundColor:["#f44336","#3f51d5"],hoverBorderColor:["#3f51d5","#f44336"]}],labels:["\u041f\u0456\u0434\u043f\u0438\u0441\u0438","\u0417\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0433\u043b\u044f\u0434\u0443"]};new Se.a("myChart",{type:"pie",data:C,options:{cutoutPercentage:50}});return n.a.createElement(W.a,{maxWidth:"xl",className:q.container},n.a.createElement(J.a,{container:!0,spacing:1,className:q.gridContainer},n.a.createElement(J.a,{item:!0,md:8,xs:12,className:q.gridSubContainer},n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"subtitle1",className:q.pageTitle,align:"center"},"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u044e")),n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"subtitle1",className:q.petitionStatusText},n.a.createElement(oe.a,{style:{color:"#f44336"}}),"\xa0",s?s.id:null)),n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"subtitle1",className:q.petitionStatusText},n.a.createElement(re.a,{style:{color:"#f44336"}}),"\xa0",s?s.title:null)),n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer,style:{cursor:"pointer"},onClick:function(){t.push("/user/".concat(s.creator.id))}},n.a.createElement(L.a,{variant:"subtitle1",style:{display:"flex",alignItems:"center",marginBottom:"2vh",textDecoration:"underline"}},n.a.createElement(me.a,{style:{color:"#f44336"}}),"\xa0\u0406\u043d\u0456\u0446\u0456\u0430\u0442\u043e\u0440: ",s?s.creator.firstName+" "+s.creator.lastName:null)),n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"subtitle2",style:{display:"flex",alignItems:"center",marginBottom:"2vh"}},n.a.createElement(ie.a,{fontSize:"small",style:{color:"#f44336"}}),"\xa0\xa0\u0414\u0430\u0442\u0430 \u043e\u043f\u0440\u0438\u043b\u044e\u0434\u043d\u0435\u043d\u043d\u044f: ",s?s.created_date.toLocaleDateString():null)),n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"h6",align:"left"},"\u0422\u0435\u043a\u0441\u0442 \u043f\u0435\u0442\u0438\u0446\u0456\u0457: "),n.a.createElement("br",null),n.a.createElement(Q.a,{elevation:3,style:{padding:"1%",backgroundColor:"rgb(207, 232, 252)"}},n.a.createElement(L.a,{variant:"body1",align:"left"},s?s.description.split("\n").map((function(e,t){return n.a.createElement("p",{key:t},n.a.createElement("pre",{style:{fontFamily:"Roboto-Regular"}},e))})):null))),s&&s.answer&&n.a.createElement(J.a,{item:!0,xs:12,className:q.gridSubContainer},n.a.createElement(L.a,{variant:"h6",align:"left"},"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043d\u0430 \u043f\u0435\u0442\u0438\u0446\u0456\u044e: "),n.a.createElement(Q.a,{elevation:3,style:{padding:"1%",backgroundColor:"rgb(207, 232, 252)"}},n.a.createElement(L.a,{variant:"body1",align:"left",className:q.votesCountText},s.answer.split("\n").map((function(e,t){return n.a.createElement("p",{key:t},n.a.createElement("pre",{style:{fontFamily:"Roboto-Regular"}},e))})))))),n.a.createElement(J.a,{container:!0,item:!0,md:4,xs:12},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"subtitle1",align:"center",className:q.petitionStatusText},n.a.createElement(K.a,{fontSize:"large",style:{color:"#f44336"}}),x),s&&n.a.createElement("canvas",{id:"myChart"}),n.a.createElement(fe,{value:s?s.votes_count:0}),n.a.createElement(L.a,{variant:"subtitle1",align:"center",className:q.votesCountText},"\u0417\u0456\u0431\u0440\u0430\u043d\u043e ".concat(h," \u0456\u0437 200"))),s&&!s.answer&&n.a.createElement(J.a,{item:!0,xs:12,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.a.createElement(M.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){var e;v?S((e=s.id,function(){var t=Object(f.a)(p.a.mark((function t(a,i){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"VOTE_PETITION",message:null,petitionId:null}),a({type:"VOTE_PETITION_ERROR",error:null}),a({type:"VOTE_PETITION_LOADING",loading:!0}),n=i().auth.token,t.next=7,fetch("".concat(j,"petitions/vote/").concat(e,"/"),{method:"POST",body:JSON.stringify({Token:n})});case 7:if((r=t.sent).ok){t.next=15;break}return t.next=11,r.json();case 11:"ALREADY_VOTED"===t.sent.message&&a({type:"VOTE_PETITION",message:"\u0412\u0438 \u0432\u0436\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u043b\u0438 \u0434\u0430\u043d\u0443 \u043f\u0435\u0442\u0438\u0446\u0456\u044e.",petitionId:e}),t.next=16;break;case 15:a({type:"VOTE_PETITION",message:"\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u041f\u0435\u0442\u0438\u0446\u0456\u044f \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u043d\u0430!",petitionId:e});case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),a({type:"VOTE_PETITION_ERROR",error:t.t0});case 21:return t.prev=21,a({type:"VOTE_PETITION_LOADING",loading:!1}),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,18,21,24]])})));return function(e,a){return t.apply(this,arguments)}}())):t.push("/signin")},disabled:m},"\u041f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u0435\u0442\u0438\u0446\u0456\u044e")),s&&d&&g==s.id&&n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"body1",align:"center"},d)))))},Pe=a(56),Ce=a(340),Ve=a(326),Ae=a(334),Re=a(339),De=a(343),we=a(325),ke=a(332),Le=function(e,t){switch(t.type){case"INPUT_CHANGE":return Object(m.a)({},e,{inputValues:Object(m.a)({},e.inputValues,Object(Pe.a)({},t.inputId,t.value)),inputValidities:Object(m.a)({},e.inputValidities,Object(Pe.a)({},t.inputId,t.isValid))});case"INPUT_TOUCHED":return Object(m.a)({},e,{touchedValues:Object(m.a)({},e.touchedValues,Object(Pe.a)({},t.inputId,t.touched))});default:return e}},Me=Object(D.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)},categorySelect:{margin:"auto"},categorySelectWrapper:{margin:e.spacing(1),marginLeft:"auto",marginRight:"auto",minWidth:120}}})),Ue=function(e){var t=e.onInputChange,a=e.titleValue,r=e.categoryValue,s=e.errorText,u=(Object(R.a)(e,["onInputChange","titleValue","categoryValue","errorText"]),Me()),l=Object(i.useReducer)(Le,{inputValues:{title:a,category:r},inputValidities:{title:!1,category:!1},touchedValues:{title:!1,category:!1}}),o=Object(A.a)(l,2),c=o[0],m=o[1];Object(i.useEffect)((function(){a!==c.inputValues.title&&t("title",c.inputValues.title,c.inputValidities.title),r!==c.inputValues.category&&t("category",c.inputValues.category,c.inputValidities.category)}),[c,t]);var d=function(e,t){var a=!0;"title"===e&&(c.touchedValues.title||m({type:"INPUT_TOUCHED",inputId:e,touched:!0}),(t.trim().length<10||t.trim().length>100)&&(a=!1)),"category"===e&&(c.touchedValues.category||m({type:"INPUT_TOUCHED",inputId:e,touched:!0})),m({type:"INPUT_CHANGE",inputId:e,value:t,isValid:a})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{variant:"h6",gutterBottom:!0},"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u0435\u0442\u0438\u0446\u0456\u0457 \u0442\u0430 \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"),n.a.createElement(J.a,{container:!0,spacing:3},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Re.a,{error:c.touchedValues.title&&!c.inputValidities.title,helperText:c.touchedValues.title&&!c.inputValidities.title&&s,required:!0,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u0435\u0442\u0438\u0446\u0456\u0457",fullWidth:!0,autoComplete:"fname",variant:"outlined",value:a,onChange:function(e){return d("title",e.target.value)}})),n.a.createElement(we.a,{className:u.categorySelectWrapper},n.a.createElement(De.a,{id:"demo-simple-select-label"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"),n.a.createElement(ke.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,onChange:function(e){return d("category",e.target.value)}},n.a.createElement(ye.a,{value:1},H[0].title),n.a.createElement(ye.a,{value:2},H[1].title),n.a.createElement(ye.a,{value:3},H[2].title)))))},Fe=function(e){var t=e.descriptionValue,a=e.errorText,r=e.onInputChange,s=Object(i.useState)(t),u=Object(A.a)(s,2),l=u[0],o=u[1],c=Object(i.useState)(!1),m=Object(A.a)(c,2),d=m[0],p=m[1],f=Object(i.useState)(!1),g=Object(A.a)(f,2),v=g[0],b=g[1];Object(i.useEffect)((function(){r("description",l,d)}),[l,d]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{variant:"h6",gutterBottom:!0},"\u0422\u0456\u043b\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u0457"),n.a.createElement(J.a,{container:!0,spacing:3},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Re.a,{required:!0,id:"cardName",label:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0456\u043b\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u0457 \u0437 \u0432\u0456\u0434\u0441\u0442\u0443\u043f\u0430\u043c\u0438",multiline:!0,fullWidth:!0,rowsMax:30,value:t,onChange:function(e){return function(e){var t=!0;v||b(!0),e.trim().length<40&&(t=!1),e.length>2e3&&(t=!1,e=e.slice(0,2e3)),o(e),p(t)}(e.target.value)},error:v&&!d,helperText:v&&!d&&a}))))},Ge=function(e){var t=Me();return n.a.createElement(J.a,{container:!0,spacing:2},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"body1",gutterBottom:!0,className:t.title},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u0435\u0442\u0438\u0446\u0456\u0457: ".concat(e.title))),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"body1",gutterBottom:!0,className:t.title},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f: ".concat(e.category))),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"body1",gutterBottom:!0,className:t.title},"\u0422\u0435\u043a\u0441\u0442 \u043f\u0435\u0442\u0438\u0446\u0456\u0457:",n.a.createElement("pre",null,"".concat(e.description)))))},Be=function(e,t){if("FORM_INPUT_UPDATE"===t.type){var a=Object(m.a)({},e.inputValues,Object(Pe.a)({},t.inputId,t.value)),i=Object(m.a)({},e.inputValidities,Object(Pe.a)({},t.inputId,t.isValid)),n=!0;for(var r in i)n=n&&i[r];return Object(m.a)({},e,{inputValues:a,inputValidities:i,formIsValid:n})}return e},ze=Object(D.a)((function(e){return{appBar:{position:"relative"},layout:Object(Pe.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(Pe.a)({width:"60%",minWidth:"320px",marginLeft:"auto",marginRight:"auto",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),He=["\u0412\u0438\u0431\u0456\u0440 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457","\u0422\u0456\u043b\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u0457","\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u0434\u0430\u043d\u0438\u0445"],We=function(){var e=Object(U.g)(),t=Object(l.c)((function(e){return e.petitions.addedPetitionLoading})),a=Object(l.c)((function(e){return e.petitions.addedPetitionUrl})),r=Object(l.b)(),s=ze(),u=n.a.useState(0),o=Object(A.a)(u,2),c=o[0],m=o[1],d=Object(i.useReducer)(Be,{inputValues:{title:"",category:"",description:""},inputValidities:{title:!1,category:!1,description:!0},formIsValid:!1}),g=Object(A.a)(d,2),v=g[0],b=g[1],E=Object(i.useCallback)((function(e,t,a){b({type:"FORM_INPUT_UPDATE",inputId:e,value:t,isValid:a})}),[b]);return n.a.createElement(Q.a,{className:s.paper},n.a.createElement(L.a,{component:"h1",variant:"h4",align:"center"},"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0435\u0442\u0438\u0446\u0456\u0457"),n.a.createElement(Ce.a,{activeStep:c,className:s.stepper},He.map((function(e){return n.a.createElement(Ve.a,{key:e},n.a.createElement(Ae.a,null,e))}))),n.a.createElement(n.a.Fragment,null," ",c===He.length?t?n.a.createElement(Ne,{text:"\u0421\u0442\u0432\u043e\u0440\u044e\u0454\u043c\u043e \u043f\u0435\u0442\u0438\u0446\u0456\u044e, \u0437\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435."}):n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{variant:"h5",gutterBottom:!0},"\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u043e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0435\u0442\u0438\u0446\u0456\u0457."),n.a.createElement(L.a,{variant:"subtitle1"},"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u043f\u0435\u0442\u0438\u0446\u0456\u044e: ".concat(a))):n.a.createElement(n.a.Fragment,null,function(e){switch(e){case 0:return n.a.createElement(Ue,{onInputChange:E,categoryValue:v.inputValues.category,titleValue:v.inputValues.title,errorText:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u0435\u0442\u0438\u0446\u0456\u0457 \u0434\u043e\u0432\u0436\u0438\u043d\u043e\u044e \u0432\u0456\u0434 10 \u0434\u043e 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"});case 1:return n.a.createElement(Fe,{onInputChange:E,descriptionValue:v.inputValues.description,errorText:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u043f\u0438\u0441 \u043f\u0435\u0442\u0438\u0446\u0456\u0457 \u0432\u0456\u0434 50 \u0434\u043e 500 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"});case 2:return n.a.createElement(Ge,{title:v.inputValues.title,category:H[v.inputValues.category-1].title,description:v.inputValues.description});default:throw new Error("\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430")}}(c),n.a.createElement("div",{className:s.buttons},0!=c&&c!=He.length&&n.a.createElement(M.a,{onClick:function(){m(c-1)},className:s.button},"\u041d\u0430\u0437\u0430\u0434"),n.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){var t,i,n;2===c&&v.formIsValid&&r((t=v.inputValues.title,i=v.inputValues.category,n=v.inputValues.description,function(){var e=Object(f.a)(p.a.mark((function e(a,r){var s,u,l,o,c,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"SET_ADDED_PETITION_ERROR",error:null}),a({type:"SET_ADDED_PETITION_URL",petitionUrl:null}),a({type:"SET_ADDED_PETITION_LOADING",loading:!0}),s={title:t,category:i,text:n},e.prev=4,e.next=7,fetch("".concat(j,"petitions/create/"),{method:"POST",headers:{Token:r().auth.token},body:JSON.stringify(s)});case 7:if((u=e.sent).ok){e.next=18;break}return e.next=11,u.json();case 11:throw l=e.sent,console.log("ERROR PETITION CREATE ",l),o=l.message,c="Something went wrong!","TOKEN_DOESNT_PROVIDED"===o&&(c="\u0412\u0438 \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0456 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0441\u043f\u0440\u043e\u0431\u0443"),"INVALID_TOKEN"===o&&(c="\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u0457. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0456 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0441\u043f\u0440\u043e\u0431\u0443"),new Error(c);case 18:return e.next=20,u.json();case 20:m=e.sent,d=m.petitionUrl,console.log("PETITION CREATED, RES DATA ",m),console.log("PETITION URL ",d),a({type:"SET_ADDED_PETITION_URL",petitionUrl:d}),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(4),a({type:"SET_ADDED_PETITION_ERROR",error:e.t0});case 30:return e.prev=30,a({type:"SET_ADDED_PETITION_LOADING",loading:!1}),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[4,27,30,33]])})));return function(t,a){return e.apply(this,arguments)}}())),c===He.length&&e.push("/petitions/".concat(a)),m(c+1)},className:s.button,disabled:0===c?!(v.inputValidities.title&&v.inputValidities.category):1===c&&!v.inputValidities.description},c===He.length-1?"\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438 \u043f\u0435\u0442\u0438\u0446\u0456\u044e":c===He.length?"\u041d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u043f\u0435\u0442\u0438\u0446\u0456\u0457":"\u0414\u0430\u043b\u0456")))))},Je=a(341),Qe=a(328),Xe=a(330),Ke=a(333),Ze=a(327),$e=a(141),Ye=a.n($e),et=a(331),tt=a(206),at=a.n(tt),it=a(207),nt=a.n(it),rt=a(208),st=a.n(rt),ut=a(209),lt=a.n(ut);var ot=Object(D.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ct=function(){var e=Object(U.g)(),t=Object(l.b)(),a=ot(),r=Object(i.useState)(""),s=Object(A.a)(r,2),u=s[0],o=s[1],c=Object(i.useState)(""),m=Object(A.a)(c,2),d=m[0],O=m[1],N=Object(i.useState)(null),y=Object(A.a)(N,2),x=y[0],T=y[1],I=Object(i.useState)(!1),j=Object(A.a)(I,2),S=j[0],q=j[1],_=Object(i.useState)(!0),P=Object(A.a)(_,2),C=P[0],V=P[1],R=Object(l.c)((function(e){return e.auth.error}));if(Object(i.useEffect)((function(){T(R)}),[R]),S)return n.a.createElement(Ne,null);var D=function(e,a){switch(e){case"facebook":var i=a.name.split(" ")[0],n=a.name.split(" ")[1];q(!0),t(E(i,n,a.email,a.email,a.accessToken,a.id,"facebook")).finally((function(){return q(!1)}));break;case"google":var r=a.profileObj;q(!0),t(E(r.givenName,r.familyName,r.email,r.email,a.accessToken,a.googleId,"google")).finally((function(){return q(!1)}))}};return n.a.createElement(W.a,{component:"main",maxWidth:"xs"},n.a.createElement(Qe.a,null),n.a.createElement("div",{className:a.paper},n.a.createElement(Je.a,{className:a.avatar},n.a.createElement(Ye.a,null)),n.a.createElement(L.a,{component:"h1",variant:"h5"},"\u0412\u0445\u0456\u0434"),n.a.createElement("form",{className:a.form,noValidate:!0},n.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"\u041d\u0456\u043a\u043d\u0435\u0439\u043c",name:"username",value:u,onChange:function(e){return t=e.target.value,void o(t);var t},autoFocus:!0}),n.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",value:d,onChange:function(e){return t=e.target.value,void O(t);var t},autoComplete:"current-password"}),x&&n.a.createElement(et.a,{variant:"filled",severity:"error"},x.message),n.a.createElement(Xe.a,{control:n.a.createElement(Ke.a,{checked:!C,onChange:function(e){return t=!e.target.checked,void V(t);var t},value:"remember",color:"primary"}),label:"\u0427\u0443\u0436\u0438\u0439 \u043a\u043e\u043c\u043f'\u044e\u0442\u0435\u0440"}),n.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(){T(null),0!==u.length&&0!==d.length?(q(!0),t(function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var i=Object(f.a)(p.a.mark((function i(n){var r,s,u,l,o;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n(b(null)),i.next=3,fetch("".concat(g,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});case 3:if((r=i.sent).ok){i.next=14;break}return i.next=7,r.json();case 7:return s=i.sent,u=s.message,l="Something went wrong!","USERNAME_DOESNT_EXISTS"===u&&(l="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437 \u0442\u0430\u043a\u0438\u043c \u043d\u0456\u043a\u043d\u0435\u0439\u043c\u043e\u043c \u043d\u0435 \u0456\u0441\u043d\u0443\u0454"),"INVALID_CREDENTIALS"===u&&(l="\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u043d\u0456\u043a\u043d\u0435\u0439\u043c \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0442\u0430 \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"),n(b(new Error(l))),i.abrupt("return");case 14:return i.next=16,r.json();case 16:o=i.sent,n(v(o.token,o.userId,o.email,o.first_name,o.last_name,o.username,o.is_active)),a&&h(o.token,o.userId,o.email,o.first_name,o.last_name,o.username,o.is_active);case 19:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}(u,d,C)).finally((function(){return q(!1)}))):T(new Error("\u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u0438"))}},"\u0412\u0432\u0456\u0439\u0442\u0438"),n.a.createElement(J.a,{container:!0},n.a.createElement(J.a,{container:!0,xs:12},n.a.createElement(J.a,{item:!0,xs:3},n.a.createElement(at.a,{textButton:"",size:"small",appId:"867332117068627",autoLoad:!1,version:"3.1",fields:"name,email,picture",onClick:function(){},callback:function(e){D("facebook",e)},icon:n.a.createElement(st.a,{fontSize:"large"})})),n.a.createElement(J.a,{item:!0,xs:3,style:{}},n.a.createElement(nt.a,{clientId:"1082946343005-kqohmu98s134s0ktfs5va3maaorfesr9.apps.googleusercontent.com",buttonText:"",onSuccess:function(e){D("google",e)},onFailure:function(){},cookiePolicy:"single_host_origin",icon:!1,theme:"dark"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"32px",height:"32px"},n.a.createElement("path",{fill:"#f9e65c",d:"M84.467,44H50v13h20.856C67.931,65.717,59.702,72,50,72c-12.15,0-22-9.85-22-22s9.85-22,22-22\tc4.799,0,9.235,1.541,12.851,4.149l9.269-9.269C66.091,17.956,58.391,15,50,15c-19.33,0-35,15.67-35,35s15.67,35,35,35\ts35-15.67,35-35C85,47.952,84.806,45.951,84.467,44z"}),n.a.createElement("path",{fill:"#78a2d2",d:"M50,57h20.856c-1.577,4.699-4.704,8.679-8.763,11.36l9.87,8.884C79.911,70.828,85,61.01,85,50\tc0-2.048-0.194-4.049-0.533-6H50V57z"}),n.a.createElement("path",{fill:"#60be92",d:"M62.093,68.36C58.622,70.653,54.472,72,50,72c-8.997,0-16.727-5.403-20.137-13.139L18.818,65.89\tC24.609,77.23,36.393,85,50,85c8.32,0,15.957-2.908,21.963-7.756L62.093,68.36z"}),n.a.createElement("path",{fill:"#f15b6c",d:"M29.677,41.569C32.985,33.603,40.837,28,50,28c4.799,0,9.235,1.541,12.851,4.149l9.269-9.269\tC66.091,17.956,58.391,15,50,15c-13.772,0-25.681,7.958-31.394,19.524L29.677,41.569z"}),n.a.createElement("path",{fill:"#1f212b",d:"M50,86c-19.851,0-36-16.149-36-36s16.149-36,36-36c8.271,0,16.353,2.878,22.753,8.105\tc0.219,0.179,0.352,0.442,0.366,0.724c0.014,0.282-0.092,0.558-0.292,0.757l-9.269,9.269c-0.347,0.347-0.895,0.391-1.292,0.104\tC58.675,30.369,54.433,29,50,29c-11.579,0-21,9.42-21,21s9.421,21,21,21c8.563,0,16.196-5.168,19.417-13H50c-0.553,0-1-0.448-1-1V44\tc0-0.552,0.447-1,1-1h34.467c0.486,0,0.902,0.35,0.985,0.829C85.815,45.922,86,47.999,86,50C86,69.851,69.851,86,50,86z M50,16\tc-18.748,0-34,15.252-34,34s15.252,34,34,34s34-15.252,34-34c0-1.624-0.129-3.302-0.384-5H51v11h19.856\tc0.322,0,0.624,0.155,0.812,0.416c0.188,0.261,0.239,0.597,0.137,0.902C68.657,66.698,59.895,73,50,73c-12.683,0-23-10.318-23-23\ts10.317-23,23-23c4.569,0,8.954,1.329,12.735,3.851l7.883-7.883C64.72,18.467,57.442,16,50,16z"}),n.a.createElement("path",{fill:"#1f212b",d:"M71.5,78c-0.119,0-0.239-0.042-0.335-0.128l-4-3.6c-0.205-0.185-0.222-0.501-0.037-0.706\tc0.187-0.205,0.502-0.221,0.707-0.037l4,3.6c0.205,0.185,0.222,0.501,0.037,0.706C71.772,77.944,71.637,78,71.5,78z"}),n.a.createElement("path",{fill:"#1f212b",d:"M65.5,72.6c-0.119,0-0.239-0.042-0.335-0.128l-1.777-1.6c-0.205-0.185-0.222-0.501-0.037-0.706\tc0.187-0.205,0.502-0.221,0.707-0.037l1.777,1.6c0.205,0.185,0.222,0.501,0.037,0.706C65.772,72.544,65.637,72.6,65.5,72.6z"}),n.a.createElement("path",{fill:"#1f212b",d:"M27.929,60c-0.165,0-0.326-0.082-0.422-0.231c-0.148-0.233-0.079-0.542,0.153-0.69l1.571-1\tc0.231-0.146,0.541-0.08,0.69,0.153c0.148,0.233,0.079,0.542-0.153,0.69l-1.571,1C28.114,59.975,28.021,60,27.929,60z"}),n.a.createElement("path",{fill:"#1f212b",d:"M23.5,62.818c-0.165,0-0.326-0.082-0.422-0.231c-0.148-0.233-0.079-0.542,0.153-0.69l2-1.273\tc0.231-0.146,0.541-0.081,0.69,0.153c0.148,0.233,0.079,0.542-0.153,0.69l-2,1.273C23.686,62.793,23.593,62.818,23.5,62.818z"}),n.a.createElement("path",{fill:"#1f212b",d:"M18.5,66c-0.165,0-0.326-0.082-0.422-0.231c-0.148-0.233-0.079-0.542,0.153-0.69l3-1.909\tc0.23-0.146,0.541-0.08,0.69,0.153c0.148,0.233,0.079,0.542-0.153,0.69l-3,1.909C18.686,65.975,18.593,66,18.5,66z"}),n.a.createElement("path",{fill:"#1f212b",d:"M24.5,38.182c-0.093,0-0.186-0.025-0.269-0.078l-5-3.182c-0.232-0.148-0.302-0.458-0.153-0.69\tc0.149-0.233,0.46-0.299,0.69-0.153l5,3.182c0.232,0.148,0.302,0.458,0.153,0.69C24.826,38.1,24.665,38.182,24.5,38.182z"}),n.a.createElement("path",{fill:"#1f212b",d:"M27.5,40.091c-0.093,0-0.186-0.025-0.269-0.078l-1-0.636c-0.232-0.148-0.302-0.458-0.153-0.69\tc0.15-0.233,0.46-0.299,0.69-0.153l1,0.636c0.232,0.148,0.302,0.458,0.153,0.69C27.826,40.009,27.665,40.091,27.5,40.091z"})))),n.a.createElement(J.a,{item:!0,xs:6,style:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #3f51d5",borderRadius:"5%",padding:"2px",cursor:"pointer"},onClick:function(){return e.push("/signup")}},n.a.createElement(Ze.a,{href:"/signup",variant:"body2",alignItems:"center"},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0430\u043a\u0430\u0443\u043d\u0442\u0443 "),n.a.createElement(lt.a,{fontSize:"large",color:"primary"})))))))};var mt=Object(D.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),dt=function(e,t){switch(t.type){case"INPUT_CHANGE":return Object(m.a)({},e,{inputValues:Object(m.a)({},e.inputValues,Object(Pe.a)({},t.inputId,t.value)),inputValidities:Object(m.a)({},e.inputValidities,Object(Pe.a)({},t.inputId,t.isValid)),formIsValid:!0});case"INPUT_TOUCHED":return Object(m.a)({},e,{touchedValues:Object(m.a)({},e.touchedValues,Object(Pe.a)({},t.inputId,!0))});case"LOADING_CHANGE":return Object(m.a)({},e,{isLoading:t.loading});case"ERROR_CHANGE":return Object(m.a)({},e,{error:t.error});case"FORM_IS_VALID_CHANGE":return Object(m.a)({},e,{formIsValid:t.isValid});default:return e}},pt="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432 \u043f\u043e\u043b\u0456 \u0456\u043c'\u044f. \u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0435\u043d\u0430 - 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0438.",ft="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432 \u043f\u043e\u043b\u0456 \u043d\u0456\u043a\u043d\u0435\u0439\u043c. \u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0435\u043d\u0430 - 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432",gt="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432 \u043f\u043e\u043b\u0456 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435. \u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 - 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0438.",vt="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432 \u043f\u043e\u043b\u0456 email. \u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0456 \u0434\u0430\u043d\u0456.",bt="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432 \u043f\u043e\u043b\u0456 \u043f\u0430\u0440\u043e\u043b\u044c. \u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432. \u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u0456 \u0434\u0430\u043d\u0456.",Et="\u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u0438.",ht=function(){var e=mt(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.auth.error})),r=Object(l.c)((function(e){return e.auth.email}));Object(i.useEffect)((function(){c({type:"ERROR_CHANGE",error:a})}),[a]);var s=Object(i.useReducer)(dt,{inputValues:{firstName:"",lastName:"",username:"",email:"",password:""},inputValidities:{firstName:!1,lastName:!1,username:!1,email:!1,password:!1},touchedValues:{firstName:!1,lastName:!1,username:!1,email:!1,password:!1},isLoading:!1,error:null,formIsValid:!0}),u=Object(A.a)(s,2),o=u[0],c=u[1],m=function(e,t){var a=!0;if((t.length<2||t.length>70)&&(a=!1),"username"===e&&t.length<8&&(a=!1),"email"===e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.toLowerCase())||(a=!1)}"password"===e&&t.length<8&&(a=!1),c({type:"INPUT_CHANGE",inputId:e,value:t,isValid:a})},d=function(e){o.touchedValues[e]||c({type:"INPUT_TOUCHED",inputId:e})};return r?n.a.createElement(U.a,{to:{pathname:"/",state:{email:r}}}):o.isLoading?n.a.createElement(Ne,null):n.a.createElement(W.a,{component:"main",maxWidth:"xs"},n.a.createElement(Qe.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(Je.a,{className:e.avatar},n.a.createElement(Ye.a,null)),n.a.createElement(L.a,{component:"h1",variant:"h5"},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),n.a.createElement("form",{className:e.form,noValidate:!0},n.a.createElement(J.a,{container:!0,spacing:2},n.a.createElement(J.a,{item:!0,xs:12,sm:6},n.a.createElement(Re.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"\u0406\u043c'\u044f",helperText:o.touchedValues.firstName&&!o.inputValidities.firstName&&pt,error:o.touchedValues.firstName&&!o.inputValidities.firstName,onChange:function(e){return m("firstName",e.target.value)},value:o.inputValues.firstName,onBlur:function(){return d("firstName")}})),n.a.createElement(J.a,{item:!0,xs:12,sm:6},n.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",name:"lastName",autoComplete:"lname",helperText:o.touchedValues.lastName&&!o.inputValidities.lastName&&gt,error:o.touchedValues.lastName&&!o.inputValidities.lastName,onChange:function(e){return m("lastName",e.target.value)},value:o.inputValues.lastName,onBlur:function(){return d("lastName")}})),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"nickname",label:"\u041d\u0456\u043a\u043d\u0435\u0439\u043c",type:"nickname",id:"nickname",helperText:o.touchedValues.username&&!o.inputValidities.username&&ft,error:o.touchedValues.username&&!o.inputValidities.username,onChange:function(e){return m("username",e.target.value)},value:o.inputValues.username,onBlur:function(){return d("username")}})),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email \u0430\u0434\u0440\u0435\u0441\u0430",name:"email",autoComplete:"email",helperText:o.touchedValues.email&&!o.inputValidities.email&&vt,error:o.touchedValues.email&&!o.inputValidities.email,onChange:function(e){return m("email",e.target.value)},value:o.inputValues.email,onBlur:function(){return d("email")}})),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",helperText:o.touchedValues.password&&!o.inputValidities.password&&bt,error:o.touchedValues.password&&!o.inputValidities.password,onChange:function(e){return m("password",e.target.value)},value:o.inputValues.password,onBlur:function(){return d("password")}})),n.a.createElement(J.a,{item:!0,xs:12},o.error&&n.a.createElement(et.a,{variant:"filled",severity:"error"},o.error.message)),n.a.createElement(J.a,{item:!0,xs:12},!o.formIsValid&&n.a.createElement(et.a,{variant:"filled",severity:"error"},Et))),n.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){var e,a,i,n,r,s=o.formIsValid;for(var u in o.inputValidities)s=s&&o.inputValidities[u];s?(c({type:"LOADING_CHANGE",loading:!0}),t((e=o.inputValues.firstName,a=o.inputValues.lastName,i=o.inputValues.username,n=o.inputValues.email,r=o.inputValues.password,function(){var t=Object(f.a)(p.a.mark((function t(s){var u,l,o,c,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(b(null)),t.next=3,fetch("".concat(g,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:a,username:i,email:n,password:r})});case 3:if((u=t.sent).ok){t.next=13;break}return t.next=7,u.json();case 7:return l=t.sent,o=l.message,c="\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!","EMAIL_EXISTS"===o?c='Email: "'.concat(n,'" \u0432\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439!'):"USERNAME_EXISTS"===o&&(c='\u041d\u0456\u043a\u043d\u0435\u0439\u043c: "'.concat(i,'" \u0432\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439!')),s(b(new Error(c))),t.abrupt("return");case 13:return t.next=15,u.json();case 15:m=t.sent,s(v(m.token,m.userId,m.email,m.first_name,m.last_name,m.username,m.is_active)),h(m.token,m.userId,m.email,m.first_name,m.last_name,m.username,m.is_active);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).catch((function(e){c({type:"ERROR_CHANGE",error:e})})).finally((function(){return c({type:"LOADING_CHANGE",loading:!1})}))):c({type:"FORM_IS_VALID_CHANGE",isValid:!1})}},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),n.a.createElement(J.a,{container:!0,justify:"flex-end"},n.a.createElement(J.a,{item:!0},n.a.createElement(Ze.a,{href:"/signin",variant:"body2"},"\u0412\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456? \u0412\u0432\u0456\u0439\u0434\u0456\u0442\u044c"))))))},Ot=a(210),Nt=a.n(Ot),yt=a(143),xt=a.n(yt),Tt=function(){var e=Object(l.c)((function(e){return e.petitions.numPages})),t=Object(l.b)(),a=Object(U.h)(),r=new URLSearchParams(a.search),s=parseInt(r.get("page")||"1",10),o=Object(i.useState)([]),c=Object(A.a)(o,2),m=c[0],d=c[1],g=Object(i.useState)([]),v=Object(A.a)(g,2),b=v[0],E=v[1],h=Object(i.useState)(!1),O=Object(A.a)(h,2),N=O[0],y=O[1],x=Object(i.useState)(!1),T=Object(A.a)(x,2),_=T[0],P=T[1],C=Object(l.c)((function(e){return e.petitions.userData})),V=Object(l.c)((function(e){return e.petitions.userDataLoading})),R=Object(l.c)((function(e){return e.petitions.userDataError})),D=Object(l.c)((function(e){return e.petitions.petitions})),w=Object(l.c)((function(e){return e.petitions.petitionsLoading})),k=Object(l.c)((function(e){return e.petitions.petitionsError})),M=Object(l.c)((function(e){return e.petitions.lastExpiredPetitions})),F=Object(U.i)().id;Object(i.useEffect)((function(){t(S()),F&&t(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var i,n,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_USER_DATA_ERROR",error:null}),a({type:"SET_USER_DATA",userData:null}),a({type:"SET_USER_DATA_LOADING",loading:!0}),t.prev=3,t.next=6,fetch("".concat(j,"petitions/user/").concat(e,"/"),{headers:{"Content-Type":"application/json"}});case 6:if((i=t.sent).ok){t.next=9;break}throw new Error("Something went wrong!");case 9:return t.next=11,i.json();case 11:n=t.sent,r=n.user,s=new I(r.id,r.firstName,r.lastName,r.username),a({type:"SET_USER_DATA",userData:s}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),a({type:"SET_USER_DATA_ERROR",error:t.t0});case 20:return t.prev=20,a({type:"SET_USER_DATA_LOADING",loading:!1}),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()}(F)),G()}),[F]),Object(i.useEffect)((function(){d(D),E(C),y(!(!w&&!V)),P(!(!k&&!R))}),[D,w,k,C,R,V]),Object(i.useEffect)((function(){G()}),[s,F]);var G=function(){t(q(s,0,F))};return N?n.a.createElement(Ne,null):_?n.a.createElement(L.a,{variant:"h5"},"\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445 \u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u0443. ".concat(_)):n.a.createElement(W.a,{maxWidth:"xl"},n.a.createElement(J.a,{container:!0,style:{backgroundColor:"#cfe8fc"}},n.a.createElement(J.a,{container:!0,item:!0,lg:8,md:6,xs:12,style:{paddingTop:"2%",paddingLeft:"2%"}},n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"h6",align:"center",style:{display:"flex",itemsAlign:"center",justifyContent:"flex-start",fontFamily:"Roboto-Bold"}},n.a.createElement(xt.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0",b&&"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447: ".concat(b.firstName," ").concat(b.lastName)),n.a.createElement(L.a,{variant:"h6",align:"center",style:{display:"flex",itemsAlign:"center",justifyContent:"flex-start",fontFamily:"Roboto-Bold"}},n.a.createElement(xt.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0",b&&"\u041d\u0456\u043a\u043d\u0435\u0439\u043c: ".concat(b.firstName," ").concat(b.lastName))),n.a.createElement(J.a,{item:!0,xs:12},n.a.createElement(L.a,{variant:"h6",align:"center",style:{display:"flex",itemsAlign:"center",justifyContent:"flex-start",fontFamily:"Roboto-Bold"}},n.a.createElement(xt.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0\u0412\u0441\u0456 \u043f\u0435\u0442\u0438\u0446\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:")),n.a.createElement(J.a,{item:!0,container:!0,xs:12},m?m.map((function(e){return n.a.createElement(J.a,{key:e.id,item:!0,container:!0,xs:12},n.a.createElement(ve,{petition:e}))})):null),n.a.createElement(J.a,{item:!0,xs:4}),n.a.createElement(J.a,{item:!0,xs:8,style:{marginBottom:"2vh"}},n.a.createElement(Nt.a,{page:s,count:e,size:"large",color:"primary",renderItem:function(e){return n.a.createElement(Ee.a,Object.assign({component:u.b,to:"".concat(1===e.page?"/user/".concat(F):"/user/".concat(F,"?page=").concat(e.page))},e))}}))),n.a.createElement(J.a,{container:!0,item:!0,lg:4,md:6,xs:12,style:{paddingTop:"2%",paddingLeft:"2%"},alignContent:"flex-start",justify:"flex-start",alignItems:"flex-start"},n.a.createElement(J.a,{item:!0,xs:12,style:{}},n.a.createElement(L.a,{variant:"h5",align:"center",style:{fontFamily:"Roboto-Bold",display:"flex",itemsAlign:"center",justifyContent:"center"}},n.a.createElement($.a,{fontSize:"large",style:{color:"#f44336"}}),"\xa0\u041e\u0441\u0442\u0430\u043d\u043d\u0456 \u043f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0456 \u043f\u0435\u0442\u0438\u0446\u0456\u0457")),n.a.createElement(J.a,{item:!0,container:!0,xs:12,alignItems:"flex-start",style:{}},M?M.slice(0,5).map((function(e){return n.a.createElement(J.a,{key:e.id,container:!0,item:!0,xs:12},n.a.createElement(ve,{petition:e,isVotesCountHidden:!0}))})):null))))},It=function(){var e=Object(i.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],s=Object(l.c)((function(e){return e.auth.userId})),u=function(e){r(e)};return a?n.a.createElement(n.a.Fragment,null,n.a.createElement(B,{buttonIsVisible:!1,onLoadingChange:u}),n.a.createElement(Ne,null)):n.a.createElement("div",{style:{backgroundColor:"rgb(207, 232, 252)"}},n.a.createElement(B,{onLoadingChange:u}),n.a.createElement(U.d,null,n.a.createElement(U.b,{exact:!0,path:"/"},n.a.createElement(Ie,null)),n.a.createElement(U.b,{path:"/petitions/:id/"},n.a.createElement(_e,null)),n.a.createElement(U.b,{exact:!0,path:"/petition/create"},s?n.a.createElement(We,null):n.a.createElement(U.a,{to:"/signin"})),n.a.createElement(U.b,{exact:!0,path:"/signin"},s?n.a.createElement(U.a,{to:"/"}):n.a.createElement(ct,null)),n.a.createElement(U.b,{exact:!0,path:"/signup"},s?n.a.createElement(U.a,{to:"/"}):n.a.createElement(ht,null)),n.a.createElement(U.b,{exact:!0,path:"/user/:id/"},n.a.createElement(Tt,null))))};var jt=function(){return n.a.createElement(l.a,{store:V},n.a.createElement(u.a,null,n.a.createElement(It,null)))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(jt,null)),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.d5e4ec75.chunk.js.map